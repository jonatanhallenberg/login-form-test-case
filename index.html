<html>

<head>
    <title>Logga in</title>
</head>

<body>
    <form id="loginForm">
        <div id="loginMessage" data-test-id="result-message"></div>
        <input type="text" placeholder="Användarnamn" id="username" data-test-id="login-form-username" />
        <input type="password" placeholder="Lösenord" id="password" data-test-id="login-form-password" />
        <button type="submit" data-test-id="login-button">Logga in</button>
    </form>
</body>

<script>
    const loginForm = document.querySelector("#loginForm");
    loginForm.addEventListener("submit", (e) => {
        e.preventDefault();
        logIn();
    })

    const logIn = () => {
        const usernameField = document.querySelector("#username");
        const passwordField = document.querySelector("#password");
        const loginMessageDiv = document.querySelector("#loginMessage");

        if (!usernameField.value || !passwordField.value) {
            loginMessageDiv.innerHTML = "Du måste fylla in användarnamn och lösenord!";
        } else if (usernameField.value === "jonatan" && passwordField.value === "hejsan123") {
            fetch("https://catfact.ninja/fact").then(res => res.json()).then(data => {
                loginMessageDiv.innerHTML = data.fact;
            })
        } else {
            loginMessageDiv.innerHTML = "Du har angett fel användarnamn eller lösenord!";
        }
    }
</script>
</html>